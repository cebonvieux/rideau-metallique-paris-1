@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * DESIGN SYSTEM - DRM PARIS 1er
 * Style Éditorial / Magazine
 * ═══════════════════════════════════════════════════════════════════════════
 */

@layer base {
  html {
    @apply scroll-smooth;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-white text-neutral-900 antialiased;
    font-feature-settings: "kern" 1, "liga" 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Typographie éditoriale */
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading tracking-tight text-neutral-900;
    text-wrap: balance;
  }

  h1 { 
    @apply text-[clamp(2.5rem,8vw,6rem)] font-black leading-[0.9] tracking-[-0.03em];
  }
  
  h2 { 
    @apply text-[clamp(2rem,5vw,3.5rem)] font-bold leading-[1] tracking-[-0.02em];
  }
  
  h3 { 
    @apply text-xl md:text-2xl font-semibold leading-tight;
  }

  p {
    @apply leading-[1.7] text-neutral-600;
  }

  ::selection {
    @apply bg-neutral-900 text-white;
  }
}

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * COMPOSANTS
 * ═══════════════════════════════════════════════════════════════════════════
 */
@layer components {
  .container {
    @apply mx-auto px-6 md:px-10 lg:px-16;
    max-width: 1600px;
  }

  .container-sm {
    @apply mx-auto px-6 md:px-10;
    max-width: 900px;
  }

  /* Sections */
  .section {
    @apply py-24 md:py-32 lg:py-40;
  }

  /* Label de section - style éditorial */
  .label {
    @apply inline-flex items-center text-[11px] font-bold uppercase tracking-[0.25em] text-neutral-400;
  }

  .label-dark {
    @apply label text-neutral-500;
  }

  .label-number {
    @apply inline-flex items-center justify-center w-6 h-6 mr-3 text-[10px] font-bold rounded-full border border-current;
  }

  /* Boutons - Style minimal */
  .btn {
    @apply inline-flex items-center justify-center gap-2
           font-medium transition-all duration-300
           focus:outline-none focus-visible:ring-2 focus-visible:ring-neutral-900 focus-visible:ring-offset-2;
  }

  .btn-dark {
    @apply btn px-8 py-4 
           bg-neutral-900 text-white text-sm tracking-wide
           hover:bg-neutral-800;
  }

  .btn-outline {
    @apply btn px-8 py-4
           bg-transparent text-neutral-900 text-sm tracking-wide
           border border-neutral-300
           hover:border-neutral-900 hover:bg-neutral-50;
  }

  .btn-ghost {
    @apply btn px-4 py-2
           text-neutral-600 text-sm
           hover:text-neutral-900;
  }

  .btn-call {
    @apply btn px-6 py-3.5
           bg-emerald-600 text-white text-sm font-semibold tracking-wide
           hover:bg-emerald-700;
  }

  /* Liens underline animé */
  .link-underline {
    @apply relative inline-block;
  }

  .link-underline::after {
    content: "";
    @apply absolute bottom-0 left-0 w-full h-px bg-current
           origin-right scale-x-0 transition-transform duration-500 ease-out;
  }

  .link-underline:hover::after {
    @apply origin-left scale-x-100;
  }

  /* Divider */
  .divider {
    @apply w-full h-px bg-neutral-200;
  }

  /* Card minimal */
  .card {
    @apply relative bg-white;
  }

  /* Texte highlight */
  .highlight {
    @apply relative inline-block;
  }

  .highlight::before {
    content: "";
    @apply absolute -inset-1 -skew-y-1 bg-amber-200/60 -z-10;
  }
}

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * ANIMATIONS
 * ═══════════════════════════════════════════════════════════════════════════
 */
@keyframes reveal-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes reveal-left {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes line-expand {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}

@keyframes fade {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.animate-reveal-up {
  animation: reveal-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-reveal-left {
  animation: reveal-left 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-line-expand {
  animation: line-expand 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  transform-origin: left;
}

.animate-fade {
  animation: fade 0.6s ease-out forwards;
}

.animate-marquee {
  animation: marquee 30s linear infinite;
}

/* Délais */
.delay-100 { animation-delay: 100ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }
.delay-400 { animation-delay: 400ms; }
.delay-500 { animation-delay: 500ms; }

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * UTILITAIRES SPÉCIAUX
 * ═══════════════════════════════════════════════════════════════════════════
 */
@layer utilities {
  /* Texte énorme pour effet visuel */
  .text-giant {
    font-size: clamp(4rem, 15vw, 12rem);
    line-height: 0.85;
    letter-spacing: -0.04em;
  }

  .text-huge {
    font-size: clamp(3rem, 10vw, 8rem);
    line-height: 0.9;
    letter-spacing: -0.03em;
  }

  /* Texte outline */
  .text-outline {
    -webkit-text-stroke: 1.5px currentColor;
    -webkit-text-fill-color: transparent;
  }

  .text-outline-thin {
    -webkit-text-stroke: 1px currentColor;
    -webkit-text-fill-color: transparent;
  }

  /* Blend mode pour images */
  .mix-difference {
    mix-blend-mode: difference;
  }

  /* Grid asymétrique */
  .grid-editorial {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 1rem;
  }

  /* Effet de survol image */
  .img-hover {
    @apply overflow-hidden;
  }

  .img-hover img {
    @apply transition-transform duration-700 ease-out;
  }

  .img-hover:hover img {
    @apply scale-105;
  }

  /* Curseur personnalisé */
  .cursor-view {
    cursor: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='40' cy='40' r='39' stroke='black' stroke-width='2'/%3E%3Ctext x='50%25' y='53%25' text-anchor='middle' fill='black' font-size='12' font-family='system-ui'%3EVOIR%3C/text%3E%3C/svg%3E") 40 40, pointer;
  }

  /* Sticky sidebar */
  .sticky-top {
    position: sticky;
    top: 120px;
  }

  /* Scrollbar minimal */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #d4d4d4 transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #d4d4d4;
    border-radius: 2px;
  }

  /* Effet parallax */
  .parallax {
    will-change: transform;
  }

  /* Masque pour texte coupé */
  .mask-text {
    -webkit-background-clip: text;
    background-clip: text;
  }

  /* Border subtle */
  .border-subtle {
    @apply border border-neutral-100;
  }

  /* Hover lift */
  .hover-lift {
    @apply transition-transform duration-300;
  }

  .hover-lift:hover {
    transform: translateY(-4px);
  }
}

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * MARQUEE INFINI
 * ═══════════════════════════════════════════════════════════════════════════
 */
.marquee-container {
  @apply overflow-hidden whitespace-nowrap;
}

.marquee-content {
  @apply inline-flex animate-marquee;
}

.marquee-content > * {
  @apply flex-shrink-0;
}
